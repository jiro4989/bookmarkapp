<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="700px" preserveAspectRatio="none" style="width:393px;height:700px;background:#FFFFFF;" version="1.1" viewBox="0 0 393 700" width="393px" zoomAndPan="magnify"><defs><filter height="300%" id="f58bjmensmurd" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[e59cf999063292dce8d6ea34dd10a338]
class user--><rect codeLine="3" fill="#FEFECE" filter="url(#f58bjmensmurd)" height="137.6328" id="user" style="stroke:#A80036;stroke-width:1.5;" width="151" x="120.5" y="7"/><ellipse cx="177.75" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M181.8594,29 L174.1406,29 L174.1406,16.6094 L181.8594,16.6094 L181.8594,18.7656 L176.5938,18.7656 L176.5938,21.4375 L181.3594,21.4375 L181.3594,23.5938 L176.5938,23.5938 L176.5938,26.8438 L181.8594,26.8438 L181.8594,29 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="28" x="198.25" y="27.1543">user</text><line style="stroke:#A80036;stroke-width:1.5;" x1="121.5" x2="270.5" y1="39" y2="39"/><ellipse cx="131.5" cy="50" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="94" x="140.5" y="53.2104">id : varchar(255)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="121.5" x2="270.5" y1="59.8047" y2="59.8047"/><ellipse cx="131.5" cy="70.8047" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="115" x="140.5" y="74.0151">email : varchar(255)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="89" x="140.5" y="86.8198">password : text</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="116" x="140.5" y="99.6245">name : varchar(255)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="122" x="140.5" y="112.4292">created_at : datetime</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="125" x="140.5" y="125.2339">updated_at : datetime</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="121" x="140.5" y="138.0386">deleted_at : datetime</text><!--MD5=[fa65e6d2ddb1df423668fadc30194675]
class bookmark--><rect codeLine="15" fill="#FEFECE" filter="url(#f58bjmensmurd)" height="150.4375" id="bookmark" style="stroke:#A80036;stroke-width:1.5;" width="152" x="22" y="205"/><ellipse cx="63.1" cy="221" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M67.2094,227 L59.4906,227 L59.4906,214.6094 L67.2094,214.6094 L67.2094,216.7656 L61.9438,216.7656 L61.9438,219.4375 L66.7094,219.4375 L66.7094,221.5938 L61.9438,221.5938 L61.9438,224.8438 L67.2094,224.8438 L67.2094,227 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="62" x="82.9" y="225.1543">bookmark</text><line style="stroke:#A80036;stroke-width:1.5;" x1="23" x2="173" y1="237" y2="237"/><ellipse cx="33" cy="248" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="94" x="42" y="251.2104">id : varchar(255)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="23" x2="173" y1="257.8047" y2="257.8047"/><ellipse cx="33" cy="268.8047" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="126" x="42" y="272.0151">user_id : varchar(255)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="116" x="42" y="284.8198">name : varchar(255)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="48" x="42" y="297.6245">url : text</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="58" x="42" y="310.4292">note : text</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="122" x="42" y="323.2339">created_at : datetime</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="125" x="42" y="336.0386">updated_at : datetime</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="121" x="42" y="348.8433">deleted_at : datetime</text><!--MD5=[386483e524645920ec80042177357ab9]
class tag--><rect codeLine="28" fill="#FEFECE" filter="url(#f58bjmensmurd)" height="112.0234" id="tag" style="stroke:#A80036;stroke-width:1.5;" width="152" x="22" y="574"/><ellipse cx="83.25" cy="590" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M87.3594,596 L79.6406,596 L79.6406,583.6094 L87.3594,583.6094 L87.3594,585.7656 L82.0938,585.7656 L82.0938,588.4375 L86.8594,588.4375 L86.8594,590.5938 L82.0938,590.5938 L82.0938,593.8438 L87.3594,593.8438 L87.3594,596 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="21" x="103.75" y="594.1543">tag</text><line style="stroke:#A80036;stroke-width:1.5;" x1="23" x2="173" y1="606" y2="606"/><ellipse cx="33" cy="617" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="94" x="42" y="620.2104">id : varchar(255)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="23" x2="173" y1="626.8047" y2="626.8047"/><ellipse cx="33" cy="637.8047" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="126" x="42" y="641.0151">user_id : varchar(255)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="116" x="42" y="653.8198">name : varchar(255)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="122" x="42" y="666.6245">created_at : datetime</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="125" x="42" y="679.4292">updated_at : datetime</text><!--MD5=[7e4614e2860fb2db44abacebf8049deb]
class bookmark_tag_link--><rect codeLine="38" fill="#FEFECE" filter="url(#f58bjmensmurd)" height="99.2188" id="bookmark_tag_link" style="stroke:#A80036;stroke-width:1.5;" width="182" x="7" y="415"/><ellipse cx="37.3" cy="431" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M41.4094,437 L33.6906,437 L33.6906,424.6094 L41.4094,424.6094 L41.4094,426.7656 L36.1438,426.7656 L36.1438,429.4375 L40.9094,429.4375 L40.9094,431.5938 L36.1438,431.5938 L36.1438,434.8438 L41.4094,434.8438 L41.4094,437 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="116" x="54.7" y="435.1543">bookmark_tag_link</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="188" y1="447" y2="447"/><ellipse cx="18" cy="458" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="156" x="27" y="461.2104">bookmark_id : varchar(255)</text><ellipse cx="18" cy="470.8047" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="118" x="27" y="474.0151">tag_id : varchar(255)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="8" x2="188" y1="480.6094" y2="480.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="122" x="13" y="494.8198">created_at : datetime</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="125" x="13" y="507.6245">updated_at : datetime</text><!--MD5=[e080b6090286d030a2bed4ab1b4c1255]
class plan--><rect codeLine="51" fill="#FEFECE" filter="url(#f58bjmensmurd)" height="99.2188" id="plan" style="stroke:#A80036;stroke-width:1.5;" width="137" x="225.5" y="415"/><ellipse cx="276.25" cy="431" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M280.3594,437 L272.6406,437 L272.6406,424.6094 L280.3594,424.6094 L280.3594,426.7656 L275.0938,426.7656 L275.0938,429.4375 L279.8594,429.4375 L279.8594,431.5938 L275.0938,431.5938 L275.0938,434.8438 L280.3594,434.8438 L280.3594,437 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="27" x="296.75" y="435.1543">plan</text><line style="stroke:#A80036;stroke-width:1.5;" x1="226.5" x2="361.5" y1="447" y2="447"/><ellipse cx="236.5" cy="458" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="62" x="245.5" y="461.2104">id : integer</text><line style="stroke:#A80036;stroke-width:1.0;" x1="226.5" x2="361.5" y1="467.8047" y2="467.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="116" x="231.5" y="482.0151">name : varchar(255)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="122" x="231.5" y="494.8198">created_at : datetime</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="125" x="231.5" y="507.6245">updated_at : datetime</text><!--MD5=[5c19f40aa9512e90106447142f5d7dc3]
class contract--><rect codeLine="63" fill="#FEFECE" filter="url(#f58bjmensmurd)" height="137.6328" id="contract" style="stroke:#A80036;stroke-width:1.5;" width="170" x="209" y="211"/><ellipse cx="263.25" cy="227" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M267.3594,233 L259.6406,233 L259.6406,220.6094 L267.3594,220.6094 L267.3594,222.7656 L262.0938,222.7656 L262.0938,225.4375 L266.8594,225.4375 L266.8594,227.5938 L262.0938,227.5938 L262.0938,230.8438 L267.3594,230.8438 L267.3594,233 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="53" x="283.75" y="231.1543">contract</text><line style="stroke:#A80036;stroke-width:1.5;" x1="210" x2="378" y1="243" y2="243"/><ellipse cx="220" cy="254" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="94" x="229" y="257.2104">id : varchar(255)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="210" x2="378" y1="263.8047" y2="263.8047"/><ellipse cx="220" cy="274.8047" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="126" x="229" y="278.0151">user_id : varchar(255)</text><ellipse cx="220" cy="287.6094" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="92" x="229" y="290.8198">plan_id : integer</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="122" x="229" y="303.6245">created_at : datetime</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="125" x="229" y="316.4292">updated_at : datetime</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="130" x="229" y="329.2339">activated_at : datetime</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="144" x="229" y="342.0386">deactivated_at : datetime</text><!--MD5=[585c5181a78c043c8cd4eee37be07f92]
link user to bookmark--><path codeLine="74" d="M159.42,152.4 C152.26,167.17 144.71,182.72 137.46,197.67 " fill="none" id="user-bookmark" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="137.4175" x2="139.3162" y1="197.7551" y2="207.5732"/><line style="stroke:#A80036;stroke-width:1.0;" x1="137.4175" x2="128.5238" y1="197.7551" y2="202.3268"/><line style="stroke:#A80036;stroke-width:1.0;" x1="137.4175" x2="133.92" y1="197.7551" y2="204.95"/><ellipse cx="140.0407" cy="192.3589" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.0;fill:none;"/><line style="stroke:#A80036;stroke-width:1.0;fill:none;" x1="157.6138" x2="164.8087" y1="146.9587" y2="150.4562"/><line style="stroke:#A80036;stroke-width:1.0;fill:none;" x1="156.3022" x2="163.4971" y1="149.6568" y2="153.1543"/><line style="stroke:#A80036;stroke-width:1.0;fill:none;" x1="159.4625" x2="162.96" y1="152.3049" y2="145.11"/><!--MD5=[6684c0ecc6b7ff4c24c357d986ce7c59]
link user to contract--><path codeLine="75" d="M232.57,152.38 C240.64,169.01 249.19,186.63 257.26,203.28 " fill="none" id="user-contract" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="257.454" x2="266.3404" y1="203.6494" y2="208.2355"/><line style="stroke:#A80036;stroke-width:1.0;" x1="257.454" x2="255.5396" y1="203.6494" y2="213.4645"/><line style="stroke:#A80036;stroke-width:1.0;" x1="257.454" x2="260.94" y1="203.6494" y2="210.85"/><line style="stroke:#A80036;stroke-width:1.0;" x1="260.1828" x2="252.9822" y1="200.1063" y2="203.5923"/><line style="stroke:#A80036;stroke-width:1.0;" x1="227.1913" x2="234.3862" y1="150.4562" y2="146.9587"/><line style="stroke:#A80036;stroke-width:1.0;" x1="228.5029" x2="235.6978" y1="153.1543" y2="149.6568"/><line style="stroke:#A80036;stroke-width:1.0;" x1="232.5375" x2="229.04" y1="152.3049" y2="145.11"/><!--MD5=[a4cd790e0e92cb1e49dff428928ca00e]
link contract to plan--><path codeLine="76" d="M294,357.46 C294,373.81 294,390.81 294,406.29 " fill="none" id="contract-plan" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="294" x2="300" y1="406.72" y2="414.72"/><line style="stroke:#A80036;stroke-width:1.0;" x1="294" x2="288" y1="406.72" y2="414.72"/><line style="stroke:#A80036;stroke-width:1.0;" x1="294" x2="294" y1="406.72" y2="414.72"/><line style="stroke:#A80036;stroke-width:1.0;" x1="298" x2="290" y1="404.72" y2="404.72"/><line style="stroke:#A80036;stroke-width:1.0;" x1="290" x2="298" y1="353.22" y2="353.22"/><line style="stroke:#A80036;stroke-width:1.0;" x1="290" x2="298" y1="356.22" y2="356.22"/><line style="stroke:#A80036;stroke-width:1.0;" x1="294" x2="294" y1="357.22" y2="349.22"/><!--MD5=[835fcfd0b9e58e36e93d85410e943f39]
link bookmark to bookmark_tag_link--><path codeLine="77" d="M98,363.3 C98,377.93 98,392.86 98,406.58 " fill="none" id="bookmark-bookmark_tag_link" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="98" x2="104" y1="406.95" y2="414.95"/><line style="stroke:#A80036;stroke-width:1.0;" x1="98" x2="92" y1="406.95" y2="414.95"/><line style="stroke:#A80036;stroke-width:1.0;" x1="98" x2="98" y1="406.95" y2="414.95"/><line style="stroke:#A80036;stroke-width:1.0;" x1="102" x2="94" y1="404.95" y2="404.95"/><line style="stroke:#A80036;stroke-width:1.0;" x1="98" x2="92" y1="363.23" y2="355.23"/><line style="stroke:#A80036;stroke-width:1.0;" x1="98" x2="104" y1="363.23" y2="355.23"/><line style="stroke:#A80036;stroke-width:1.0;" x1="98" x2="98" y1="363.23" y2="355.23"/><line style="stroke:#A80036;stroke-width:1.0;" x1="94" x2="102" y1="365.23" y2="365.23"/><!--MD5=[96695e552219d236bdc0741673dfe17f]
link bookmark_tag_link to tag--><path codeLine="78" d="M98,522.21 C98,536.23 98,551.34 98,565.66 " fill="none" id="bookmark_tag_link-tag" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="98" x2="104" y1="565.98" y2="573.98"/><line style="stroke:#A80036;stroke-width:1.0;" x1="98" x2="92" y1="565.98" y2="573.98"/><line style="stroke:#A80036;stroke-width:1.0;" x1="98" x2="98" y1="565.98" y2="573.98"/><line style="stroke:#A80036;stroke-width:1.0;" x1="102" x2="94" y1="563.98" y2="563.98"/><line style="stroke:#A80036;stroke-width:1.0;" x1="94" x2="102" y1="518.11" y2="518.11"/><line style="stroke:#A80036;stroke-width:1.0;" x1="94" x2="102" y1="521.11" y2="521.11"/><line style="stroke:#A80036;stroke-width:1.0;" x1="98" x2="98" y1="522.11" y2="514.11"/><!--MD5=[2cf9b2d8e89b8862eae68d3275093356]
@startuml

' ユーザ
entity user {
  *id : varchar(255)
  - -
  *email : varchar(255)
  password : text
  name : varchar(255)
  created_at : datetime
  updated_at : datetime
  deleted_at : datetime
}

' ブックマーク
entity bookmark {
  *id : varchar(255)
  - -
  *user_id : varchar(255)
  name : varchar(255)
  url : text
  note : text
  created_at : datetime
  updated_at : datetime
  deleted_at : datetime
}

' タグ
entity tag {
  *id : varchar(255)
  - -
  *user_id : varchar(255)
  name : varchar(255)
  created_at : datetime
  updated_at : datetime
}

' タグがどのブックマークに紐づくか。
entity bookmark_tag_link {
  *bookmark_id : varchar(255)
  *tag_id : varchar(255)
  - -
  created_at : datetime
  updated_at : datetime
}

' ユーザのプランマスタ。
'
' * id 1 = フリープラン
' * id 2 = スタンダードプラン
' * id 3 = エンタープライズプラン
entity plan {
  *id : integer
  - -
  name : varchar(255)
  created_at : datetime
  updated_at : datetime
}

' ユーザが契約しているプラン。
'
' ユーザ作成時にフリープランは作成される。
' ユーザは必ずフリープランに一度は紐づく。
entity contract {
  *id : varchar(255)
  - -
  *user_id : varchar(255)
  *plan_id : integer
  created_at : datetime
  updated_at : datetime
  activated_at : datetime
  deactivated_at : datetime
}

user ||..o{ bookmark
user ||..|{ contract
contract ||..|{ plan
bookmark }|..|{ bookmark_tag_link
bookmark_tag_link ||..|{ tag

@enduml

@startuml

entity user {
  *id : varchar(255)
  - -
  *email : varchar(255)
  password : text
  name : varchar(255)
  created_at : datetime
  updated_at : datetime
  deleted_at : datetime
}

entity bookmark {
  *id : varchar(255)
  - -
  *user_id : varchar(255)
  name : varchar(255)
  url : text
  note : text
  created_at : datetime
  updated_at : datetime
  deleted_at : datetime
}

entity tag {
  *id : varchar(255)
  - -
  *user_id : varchar(255)
  name : varchar(255)
  created_at : datetime
  updated_at : datetime
}

entity bookmark_tag_link {
  *bookmark_id : varchar(255)
  *tag_id : varchar(255)
  - -
  created_at : datetime
  updated_at : datetime
}

entity plan {
  *id : integer
  - -
  name : varchar(255)
  created_at : datetime
  updated_at : datetime
}

entity contract {
  *id : varchar(255)
  - -
  *user_id : varchar(255)
  *plan_id : integer
  created_at : datetime
  updated_at : datetime
  activated_at : datetime
  deactivated_at : datetime
}

user ||..o{ bookmark
user ||..|{ contract
contract ||..|{ plan
bookmark }|..|{ bookmark_tag_link
bookmark_tag_link ||..|{ tag

@enduml

PlantUML version 1.2021.7(Sun May 23 21:40:07 JST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>